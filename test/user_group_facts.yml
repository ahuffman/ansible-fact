---
- name: "Test user_group_facts - Python 2.7"
  hosts: "localhost"
  gather_facts: False
  vars:
    ansible_python_interpreter: "/usr/bin/python2.7"
  tasks:
    - name: "Scan users and groups"
      user_group_facts:
      become: True

    - name: "Display local user facts"
      debug:
        var: "local_users"

    - name: "Display local group facts"
      debug:
        var: "local_groups"


- name: "Test user_group_facts - Python 3.7"
  hosts: "localhost"
  gather_facts: False
  vars:
    ansible_python_interpreter: "/usr/bin/python3.7"
  tasks:
    - name: "Scan users and groups"
      user_group_facts:
      become: True

    - name: "Display local user facts"
      debug:
        var: "local_users"

    - name: "Display local group facts"
      debug:
        var: "local_groups"
